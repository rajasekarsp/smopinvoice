<!DOCTYPE html ng-app="myApp">
<!--[if lt IE 7]>      <html lang="en" ng-app="myApp" class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html lang="en" ng-app="myApp" class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html lang="en" ng-app="myApp" class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html lang="en" ng-app="myApp" class="no-js">
<!--<![endif]-->

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>SMOP Invoice</title>
	<meta name="description" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="bootstrap.min.css">

	<link rel="stylesheet" href="app.css" media="screen, print" type="text/css">
	<!-- <link rel="stylesheet" href="app.css" type="text/css" media="print" /> -->


	<script src="angular.min.js"></script>
	<!--<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.22/pdfmake.min.js"></script>-->
	<!--<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.4.1/html2canvas.min.js"></script>-->


	<script src="app.model.js"></script>

	<script src="app.js"></script>
</head>

<body>
	<div class="wrapper">
		<div class="container" ng-controller="getDetailsController">

			<div id="form" ng-hide="preview">
				<!-- DETAILS -->
				<div class="row">
					<div class="col-md-4">
						<fieldset>
							<legend>Client Details</legend>
							<table class="details">
								<thead>
									<tr>
										<td style="width:30%;">Name</td>
										<td><input type="text" name="clientName" ng-model="clientName" /></td>
									</tr>
									<tr>
										<td>Address Line 1</td>
										<td><textarea type="text" name="clientAddress" ng-model="clientAddress1"></textarea></td>
									</tr>
									<tr>
										<td>Address Line 2</td>
										<td><textarea type="text" name="clientAddress" ng-model="clientAddress2"></textarea></td>
									</tr>
									<tr>
										<td>City</td>
										<td><input type="text" name="clientCity" ng-model="clientCity"></td>
									</tr>
									<tr>
										<td>Pincode</td>
										<td><input type="text" name="clientPincode" ng-model="clientPincode"></td>
									</tr>
									<tr>
										<td>GST No</td>
										<td><input type="text" name="clientGst" ng-model="clientGstNo" /></td>
									</tr>
								</thead>
							</table>
						</fieldset>
					</div>

					<div class="col-md-4">
						<fieldset>
							<legend></legend>
							<table class="details">
								<thead>
									<tr>
										<td style="width:30%;">Date</td>
										<td>
											<input name="invoiceDate" type="date" ng-model="invoiceDate" />
										</td>
									</tr>
									<tr>
										<td>Invoice No</td>
										<td><input type="text" name="invoiceNo" ng-model="invoiceNo" /></td>
									</tr>
									<tr>
										<td>E-Waybill No</td>
										<td><input type="text" name="eWayBillNo" ng-model="eWayBillNo" /></td>
									</tr>
									<tr>
										<td>GST Type</td>
										<td>
											<div class="radio-container">
												<input type="radio" id="gst-option" name="gstType" value="GST" ng-model="gstType"> <label for="gst-option">GST</label><br>
											</div>
											<div class="radio-container">
												<input type="radio" id="igst-option" name="gstType" value="IGST" ng-model="gstType"><label for="igst-option"> I-GST</label><br>
											</div>
										</td>
									</tr>
									<tr>
										<td>Prepared By</td>
										<td>
											<input type="text" name="preparedBy" ng-model="preparedBy" />
										</td>
									</tr>
									<tr>
										<td>Checked By</td>
										<td>
											<input type="text" name="checkedBy" ng-model="checkedBy" />
										</td>
									</tr>
								</thead>
							</table>
						</fieldset>
					</div>

					<div class="col-md-4">
						<fieldset>
							<legend>Transport Details</legend>
							<table class="details">
								<thead>
									<tr>
										<td style="width:40%;">Despatched Through</td>
										<td><input type="text" name="despatchedThru" ng-model="despatchedThru" /></td>
									</tr>
									<tr>
										<td>L.R No</td>
										<td><input type="text" name="lrNo" ng-model="lrNo" /></td>
									</tr>
									<tr>
										<td>Despatched Date</td>
										<td><input type="date" name="despatchedDate" ng-model="despatchedDate" /></td>
									</tr>
									<tr>
										<td>Despatched To</td>
										<td><input type="text" name="despatchedTo" ng-model="despatchedTo" /></td>
									</tr>
									<tr>
										<td>Documents Through</td>
										<td><input type="text" name="documentsThru" ng-model="documentsThru" /></td>
									</tr>

								</thead>
							</table>
						</fieldset>
					</div>
				</div>

				<hr/>

				<!-- PRODUCT -->
				<div class="row">
					<div class="col-md-12">
						<table class="product">
							<thead>
								<tr>
									<th style="width:45%">Particulars</th>
									<th style="width:10%;">Quantity</th>
									<th style="width:10%;">Rate Per Unit</th>
									<th style="width:15%;">Unit</th>
									<th style="width:10%;">Amount</th>
									<th style="width:5%;"></th>
								</tr>
							</thead>
							<tbody>
								<tr ng-repeat="product in products">
									<td> <textarea rows="1" name="productName1" ng-model="product.productName"></textarea></td>
									<td><input type="number" ng-change="updateAmount(product)" name="quantity" ng-model="product.quantity" /></td>
									<td><input type="number" ng-change="updateAmount(product)" name="rate" ng-model="product.rate" /></td>
									<td>
										<select name="ratePer" ng-model="product.ratePer" ng-change="updateAmount(product)">
											<option value="1">Unit</option>
											<option value="100">Hundred</option>
											<option value="1000">Thousand</option>
										</select>
									</td>
									<td><input type="text" name="amount" disabled ng-model="product.amount" class="text-right" /></td>
									<td>
										<button ng-if="products.length > 1" class="button-icon" ng-click="removeProduct(product)"><img  src="images/remove.png" alt="remove" /></button>
										<button style="cursor:default;" ng-if="products.length == 1" class="button-icon"><img  src="images/remove-disabled.png" alt="remove" /></button>
									</td>
								</tr>
							</tbody>
						</table>
						<button ng-click="addProduct()" class="positiveButton">+ Add Product</button>


					</div>

				</div>

				<!-- TAXES -->
				<div class="row">
					<div class="col-md-6">
						<!-- <div ng-bind="wordsConvertor(balanceAmount)"></div> -->
					</div>
					<div class="col-md-6">
						<table class="taxes">
							<tr>
								<td>Packing and Forwarding</td>
								<td></td>
								<td><input style="text-align:right;" type="number" name="packingValue" ng-model="packingValue" /></td>
							</tr>
							<tr>
								<td>Goods Value</td>
								<td style="width:20%;"></td>
								<td class="amount">
									<div ng-bind="goodsValue | number : 2"></div>
								</td>
							</tr>
							<tr>
								<td>
									<span ng-bind="gstType"></span>
								</td>
								<td>
									<select name="gst" ng-model="gstSlab">
						<option value="5">5 %</option>
						<option value="12">12 %</option>
						<option value="18">18 %</option>
						<option value="28">28 %</option>
					</select>
								</td>
								<td class="amount">
									<div ng-bind="gstValue | number : 2"></div>
								</td>
							</tr>
							<tr>
								<td colspan="2">Total</td>
								<td class="amount">
									<div ng-bind="totalAmount | number : 2"></div>
								</td>
							</tr>
							<tr>
								<td colspan="2">Less: Advance</td>
								<td><input style="text-align:right;" type="number" name="advanceAmount" ng-model="advanceAmount" /></td>
							</tr>
							<tr>
								<td class="positive" colspan="2">Balance</td>
								<td class="positive amount">
									<div ng-bind="balanceAmount"></div>
								</td>
							</tr>
							<tr>
								<td colspan="3" class="text-right"><button class="positiveButton" ng-click="swapView('preview')">Print Preview >></button></td>
							</tr>
						</table>
					</div>
				</div>
				<hr/>
			</div>

			<div id="preview" ng-show="preview">
				<table class="print">
					<!--
					<tr class="design">
						<td colspan="3"><img src="images/header1.png" alt="" /></td>
					</tr>
					-->
					<tr class="logo">
						<td>
							<img src="images/SMOP_LOGO.png" alt="logo" width="180" />
						</td>
						<td style="text-align:center">
							<strong>INVOICE</strong><br/>
							<strong>Shree Mahalakshmi Offset Prints</strong><br/>
						</td>
						<td style="text-align:right">
							178, Munangi Nadar Street, <br/> Sivakasi - 626123<br/> GST No: <span>0934738473</span>
						</td>
					</tr>

					<tr class="header">
						<td>To:</td>
						<td>Despatch Details:</td>
						<td class="noGrey"></td>
					</tr>
					<tr class="content">
						<td>
							<span ng-if="clientName">{{clientName}}</span><br/>
							<span ng-if="clientAddress1">{{clientAddress1}}</span><br/>
							<span ng-if="clientAddress2">{{clientAddress2}}</span><br/>
							<span ng-if="clientCity">{{clientCity}} </span><span ng-if="clientPincode">- {{clientPincode}}</span><br />
							<span ng-if="clientGstNo">GST No: {{clientGstNo}}</span>
						</td>
						<td>
							<span ng-if="despatchedThru">Despatched Thru: <span>{{despatchedThru}}</span></span><br/>
							<span ng-if="lrNo">L.R. No: <span>{{lrNo}}</span></span><br/>
							<span ng-if="despatchedDate">Despatched Date: <span>{{despatchedDate | date}}</span></span><br/>
							<span ng-if="despatchedTo">Despatched To: <span>{{despatchedTo}}</span></span><br/>
							<span ng-if="documentsThru">Documents Thru: <span>{{documentsThru}}</span></span>
						</td>
						<td>
							<span ng-if="invoiceNo">Invoice No: <span>{{invoiceNo}}</span></span><br/>
							<span ng-if="eWayBillNo">E-Waybill No: <span>{{eWayBillNo}}</span></span><br/>
							<span ng-if="invoiceDate">Date: <span>{{invoiceDate | date}}</span></span>
						</td>
					</tr>


					<tr>
						<td class="product-table-container" colspan="3" style="padding:15px 0px 0px 0px;">
							<!--
							<div class="print-div-table">
								<div class="print-row print-row-header">
									<div class="print-col" style="width:8%;">S.No</div>
									<div class="print-col" style="width:42%;">Particulars</div>
									<div class="print-col" style="width:15%;">Quantity</div>
									<div class="print-col" style="width:15%;">Rate</div>
									<div class="print-col" style="width:20%;">Amount</div>
								</div>
								<div class="print-row" ng-repeat="product in products">
									<div class="print-col" style="width:8%;">{{$index + 1}}</div>
									<div class="print-col" style="width:42%;">{{product.productName}}</div>
									<div class="print-col" style="width:15%;">{{product.quantity}}</div>
									<div class="print-col" style="width:10%;">{{product.rate}}
										<span ng-if="product.ratePer !=1">
												<br/>
												<i>(per {{product.ratePer}})</i>
											</span></div>
									<div class="print-col" style="width:20%;">{{product.amount | number : 2}}</div>
									<div class="clearfix"></div>
								</div>
							</div>
							-->
							<!-- PRODUCT TABLE -->
							<!-- LOOSE KEETHI -->
							<table style="width:100%;" class="print-products">
								<tr class="header">
									<td style="width:8%;"><div>S.No</div></td>
									<td style="width:42%;"><div>Particulars</div></td>
									<td style="width:15%;"><div>Quantity</div></td>
									<td style="width:15%;"><div>Rate</div></td>
									<td style="width:20%;"><div>Amount</div></td>
								</tr>
								<tr class="content">
									<td colspan="5" style="padding:0px; border-bottom:0px;" class="print-products-inner-table-container">
										<table class="print-products-inner-table">
											<tr ng-repeat="product in products">
												<td style="width:8%;"><div class="product-cell-value">{{$index + 1}}</div></td>
												<td colspan="2" style="width:42%;"><div class="product-cell-value">{{product.productName}}</div></td>
												<td style="width:15%;"><span> <div class="product-cell-value">{{product.quantity}}</div></span></td>
												<td style="width:15%;">
														<div class="product-cell-value">
													{{product.rate}}
													<span ng-if="product.ratePer !=1">
														<br/>
														<i>(per {{product.ratePer}})</i>
													</span>
													</div>
												</td>
												<td style="width:20%;" class="amount"><div class="product-cell-value">{{product.amount | number : 2}}</div></td>
											</tr>
										</table>
									</td>
								</tr>

								<tr class="border">
									<td colspan="2" rowspan="{{gstType== 'GST' ? 8 : 7}}" style="vertical-align:bottom;">
										<div class="dotted">
											Rupees:
											<i><span class="captitalize" ng-bind="wordsConvertor(balanceAmount)"></span></i>
										</div>
										<div>
										<div class="errors">
											E. &amp; O.E: 
										</div>
										</div>
									</td>
									<td colspan="2">Packaging and Forwarding: </td>
									<td class="amount">{{packingValue | number : 2}}</td>
								</tr>
								<tr class="border">
									<td colspan="2">Goods Value: </td>
									<td class="amount">{{goodsValue | number : 2}}</td>
								</tr>
								<tr class="border" ng-if="gstType == 'GST'">
									<td colspan="2">CGST ({{gstSlab/2}}%):</td>
									<td class="amount">{{gstValue/2 | number : 2}}</td>
								</tr>
								<tr class="border" ng-if="gstType == 'GST'">
										<td colspan="2">SGST ({{gstSlab/2}}%):</td>
										<td class="amount">{{gstValue/2 | number : 2}}</td>
									</tr>
								<tr>
								<tr class="border" rowspan="2" ng-if="gstType == 'IGST'">
										<td colspan="2">IGST ({{gstSlab}}%):</td>
										<td class="amount">{{gstValue | number : 2}}</td>
									</tr>
								<tr class="border">
									<td colspan="2">Total: </td>
									<td class="amount">{{totalAmount | number : 2}}</td>
								</tr>
								<tr class="border">
									<td colspan="2">Advance: </td>
									<td class="amount">{{advanceAmount | number : 2}}</td>
								</tr>
								<tr class="border">
									<td colspan="2"><strong><i>Balance: </i></strong></td>
									<td class="amount"><strong><i>{{balanceAmount | number : 2}}</i></strong></td>
								</tr>
								
							</table>
						</td>
					</tr>


				</table>



				<table class="disclaimer">
					<tr class="">
						<td colspan="2">
							Prepared By:&nbsp;<span ng-bind="preparedBy"></span><br/>
							<div style="margin-top:5px;">Checked By:&nbsp;&nbsp;<span ng-bind="checkedBy"></span></div>
							<div class="small">
								<strong>Terms and Conditions:</strong><br/> All transactions are made subject to Sivakasi Jurisdiction
							</div>
						</td>
						<td colspan="2" class="text-right">
							<div>For <strong>Shree Mahalakshmi Offset Prints</strong></div>
							<div style="height:50px"></div>
							Proprietor
						</td>
					</tr>
					<tr>
						<td colspan="2"></td>
						<td colspan="2">
							<button style="float:right;" class="positiveButton" ng-click="print()">Print</button>
							<button style="float:right;margin-right:10px;" class="neutralButton" ng-click="swapView('form')"> Back</button>

						</td>
					</tr>
				</table>
			</div>
		</div>
	</div>
</body>

</html>